[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm install --legacy-peer-deps"]

[phases.build]
cmds = [
  "echo 'Building React app...'",
  "npm run build",
  "echo 'Build complete. Checking public directory...'",
  "ls -la public/ || echo 'Public directory not found!'",
  "ls -la public/index.html || echo 'index.html not found!'"
]

[start]
cmd = "npm start"
